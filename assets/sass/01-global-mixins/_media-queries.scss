// ******************************************************\
// * DEVICE WIDTHS
// ******************************************************/
$fix-mqs: false !default;

@mixin M-mq($range, $width: $breakpoint-tablet, $width-2: null) {

	//prevent media query overlap
	@if $range == min {
		$width: $width + 1;
	}

	@if ($lt-ie9 == true) {
		@if $fix-mqs >= $width and $range == min and $width-2 == null {
			@content;
		}
	}

	@else {

		// if has both min and max-widths
		// if has both min and max-widths
		@if $width-2 {

			$width-2: $width-2 - 1;//prevent media query overlap

			@if ($range == inside) {
				@media screen and (min-width: $width) and (max-width: $width-2) {
					@content;
				}
			} @else if ($range == outside) {
				@media not screen and (min-width: $width) and (max-width: $width-2) {
					@content;
				}
			}
		}

		// else output min or max width
		@else {
			@if $range == min{
				@media screen and (min-width: $width) {
					@content;
				}
			}
			@else if $range == max {
				@media screen and (max-width: $width) {
					@content;
				}
			}
		}
	}
}

@mixin M-retina {
  	@media
		only screen and (-webkit-min-device-pixel-ratio: 2),
		only screen and (        min-device-pixel-ratio: 2),
		only screen and (           min-resolution: 192ppi),
		only screen and (            min-resolution: 2dppx) {
			@content;
	}
}

//**********************************\
//	Resolution specific elements
//*********************************/
%hide { display: none; }

@mixin M-mobile-only {
	@include M-mq(min,$bp-mobile){
		display: none!important;
	}
}
%mobile-only { @include M-mobile-only; }

@mixin M-tablet-only {
	@include M-mq(outside,$bp-mobile,$bp-desktop){
		display: none!important;
	}
}
%tablet-only { @include M-tablet-only }

@mixin M-desktop-only {
	@include M-mq(max,$bp-desktop){
		display: none!important;
	}
}
%desktop-only { @include M-desktop-only; }


@mixin M-non-mobile {
	@include M-mq(max, $bp-mobile){
		display: none!important;
	}
}
%non-mobile { @include M-non-mobile }

@mixin M-non-tablet {
	@include M-mq(inside, $bp-mobile, $bp-desktop){
		display: none!important;
	}
}
%non-mobile { @include M-non-mobile }

@mixin M-non-desktop {
	@include M-mq(min, $bp-desktop){
		display: none!important;
	}
}
%non-desktop { @include M-non-desktop }




// ******************************************************\
// * IE SPECIFIC RULES
// ******************************************************/

@mixin M-lt-ie9 {
    @if ($lt-ie9 == true) {
        @content;
    }
}

@mixin M-gt-ie8 {
    @if ($lt-ie9 == false) {
        @content;
    }
}


// ******************************************************\
// * PRINT
// ******************************************************/
@mixin M-print {
	@media print {
		@content;
	}
}