
//================================================*\
/*	COLUMNS STYLING FILE						*/
//----------------------------------------------------
//	This file holds the code that generates the
//	classes for the columns system.
//
//	DO NOT EDIT THIS FILE UNLESS YOU KNOW WHAT
//	YOU'RE DOING!
//================================================*/



//================================================*\
/*				COLUMN WIDTHS						*/
//----------------------------------------------------
//	Quickly and easily apply standard percentage
//	widths to columns based on fractions.
//
//	step 1: give container the width modifier class.
//			eg: columns--thirds
//	step 2: give extra wide columns span classes
//			eg. columns-col--span2
//	WARNING: using a span class will likely require additional
//			 styling for tablets and smaller devices
//
//	EXAMPLE HTML:
//	<ul class="columns--floated columns--thirds">
//		<li class="columns-col">Column is 1/3 wide on desktop</li>
//		<li class="columns-col columns-col--span2">column is 2/3 wide on desktop</li>
//	</ul>
//================================================*/

@for $i from 1 through length($colWidths) {
	$array: nth($colWidths, $i);
	$class: map-get($array, class);
	$breaks: map-get($array, breaks);

	.columns--#{$class}:not(.columns--disableMQs) > .columns-col {
		width: percentage(1/$i);

		@if ($i > 2){
			@for $x from 2 through ($i - 1) {
				&--span#{$x} { width: percentage($x/$i); }
			}
		}

		@if ($breaks != false) {
			@for $y from 1 through length($breaks) {
				$breakData : nth($breaks, $y);
				$device : nth($breakData, 1);
				$width : nth($breakData, 2);
				@include M-mq(max,$device){
					width: $width;
				}
			}
		}
	}
}


.columns {
	@extend %noDots;
	width: 100%;
	@include M-gt-ie8 {
		@include M-flex;
		@include M-prefix(align-content, stretch, $flexPrefixes);

		> .columns-col {
			@include M-prefix(flex-grow,1, $flexPrefixes);
		}
		&:not(.columns--noWrap){
			@include M-prefix(flex-wrap, wrap, $flexPrefixes);
		}
	}

	&-col {
		padding: 0;
		margin: 0;
		background-clip: padding-box;
		border: 0 solid transparent;
	}

	@each $gutter in $columnGutters {
		&--gutter-#{$gutter} {
			$actualGutter: ($gutter * 1px) / 2;
			margin: -$actualGutter;
			> .columns-col {
				border-width: $actualGutter;
			}
		}
	}

	@include M-gt-ie8 {
		&--vAlign > .columns-col {
			@include M-flex;
			@include M-prefix(flex-direction,column, $flexPrefixes);
			@include M-prefix(justify-content,center, $flexPrefixes);
		}
	}

	//tabular backup for IE9 and below
	.lt-ie10 & {
		display: table;
		> .columns-col { display: table-cell; }
	 	&--vAlign > .columns-col { vertical-align: middle; }
	}
}
